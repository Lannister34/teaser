window.promo_set_up=function(r,e){function t(t){a=t}var a,i=document.querySelector(form_config.preview);t(e.maker.output());e.maker.change(function(t){s.data(t.name,t.data)}),e.maker.init(function(){t(e.maker.output()),b(!1)});function n(t,n,o){this.n=[],this.d=1e3*t,this.s=1,this.timer=null,this.stop=!1,this.toggle=function(){if(!this.callback)return!1;this.stop?this.stop=!1:this.stop=!0,this.stop&&clearTimeout(this.timer),this.stop||this.start(!0)},this.f=function(t,i){r.data.loop(t).run(function(t,e){e===i?r.css.style(t,n):r.css.style(t,o)})},this.callback=null,this.start=function(t){var e=this;!t&&1||this.callback(),this.stop||(e.timer=setTimeout(function(){e.callback(),e.start()},e.d))},this.r=function(){var t=this;0<t.n.length&&(t.f(t.n,0),1<t.n.length&&(t.callback=function(){t.f(t.n,t.s),t.s=t.s===t.n.length-1?0:t.s+1},t.start()))}}var o={},s={page:function(){var e={};return r.data.loop(["device","scale","size"]).run(function(t){e[t]=r.page[t]()}),e}};console.log(a),s.data=function(t,e,i){var n=t;if(!~n.indexOf("texts")||isNaN(parseInt(n.substr(-1)))||i)if("button"===n){if(!a.button.display)return;n+="-in"}else"background"===n&&(n="img-box");else n+="title",s.data(n,e,!0),n=t+"content";"style-init"in c[n]&&r.css.style(c[n].src,c[n]["style-init"](e)),"content-init"in c[n]&&(c[n].src.innerHTML=c[n]["content-init"](e))},s.images=function(t,e,i){c[t]={p:"img",order:i,a:{class:"—prx—image-item"},"style-init":function(){return{"background-image":"url("+e+")","background-size":"cover","background-position":"center","background-repeat":"no-repeat"}},init:"images"}},s.title_content=function(t,e,i){c[t+"title"]={n:"span",p:t+"_title_in",order:i,"content-init":function(t){return t.title},"style-init":function(t){return{color:"#"+t.title_color,"font-size":t.title_size+"em","font-weight":t.title_weight}}}},s.text_content=function(t,e,i){c[t+"content"]={n:"span",p:t+"_in",order:i,"content-init":function(t){return t.content},"style-init":function(t){return{color:"#"+t.content_color,"font-size":t.content_size+"em","font-weight":t.content_weight}},r:function(t){var e=t.device.orientation;return{display:e.portrait?"inline-flex":"block",margin:e.portrait?"0 auto":""}}}},s.text_in=function(t,e,i){c[t+"_in"]={p:"text-box",a:{class:"—prx—text"},init:"text",r:function(t){var e=t.device.orientation;t.device.type.mobile;return{width:e.portrait?"":a.button.display?"65%":"100%",display:e.portrait?"table-row":"block"}}},s.text_content(t,e,i)},s.title_in=function(t,e,i){c[t+"_title_in"]={p:"text-box",a:{class:"—prx—title"},init:"title",r:function(t){var e=t.device.orientation,i=t.device.type.mobile;return{display:e.portrait?"table-header-group":"block",width:e.portrait?"":a.button.display?"65%":"100%","padding-top":e.portrait?i?"10px":"20px":""}}},s.title_content(t,e,i)},s.texts=function(t,e,i){s.title_in(t,e,i),s.text_in(t,e,i)};var c,l,p,u={get width(){return document.querySelector(".—prx—size").clientWidth},get height(){return document.querySelector(".—prx—size").clientHeight}},d={".—prx—size":{opacity:"0",position:"absolute",left:"0",right:"0",top:"0",bottom:"0","z-index":"-1"},".—prx—img-box":{position:"absolute",top:0,left:0,"box-sizing":"border-box",transition:"opacity .5s .4s","border-style":"solid","border-color":"rgba(255, 255, 255, 0)","max-height":"100%"},".—prx—img-box, .—prx—text-box":{position:"absolute"},".—prx—image-item,.—prx—main-box,.—prx—message-box,.—prx—sub-box":{position:"absolute",width:"100%",height:"100%",top:0,left:0},".—prx—image-item":{transition:"opacity .4s,transform .4s","box-shadow":"10px 0px 25px 0px rgba(0, 0, 0, 0.4)"},".—prx—main-box":{"text-decoration":"none",cursor:"pointer","user-select":"none","-webkit-touch-callout":"none",overflow:"hidden"},".—prx—message-box":{transition:"opacity .4s,transform .4s",display:"table"},".—prx—button":{display:"table-footer-group","vertical-align":"bottom",right:"0",bottom:"50%","box-sizing":"border-box","border-style":"solid","border-color":"rgba(0, 0, 0, 0)","border-width":"0",overflow:"hidden"},".—prx—button span":{"white-space":"nowrap","text-overflow":"ellipsis",display:"block",margin:"0 auto","animation-duration":"1s","animation-iteration-count":"infinite","font-family":"sans-serif"},".—prx—shape-box":{transition:"right .5s ease-in-out"},".—prx—title, .—prx—text":{width:"100%",display:"table",transition:"opacity .4s,transform .4s"},".—prx—title":{display:"table-header-group","text-align":"center","vertical-align":"top"},".—prx—text":{display:"table-row","vertical-align":"middle"},".—prx—text-box":{"z-index":1,transition:"opacity .5s .4s, transform .5s .4s","text-align":"center","max-height":"100%",display:"-webkit-flex","-webkit-flex-direction":"column","-ms-flex-direction":"column","flex-direction":"column","-webkit-justify-content":"space-between","justify-content":"space-between",height:"100%","box-sizing":"border-box","border-left":"none",right:"0"},".—prx—text-box-1":{display:"-ms-flex"},".—prx—text-box-2":{display:"flex"},".—prx—text span":{"vertical-align":"middle",display:"table-cell","text-align":"center"}},x={"—prx—color-red":{from:{"background-color":"#ff0000"},"50%":{"background-color":"#a70505"},to:{"background-color":"#ff0000"}},"—prx—color-green":{from:{"background-color":"#37c500"},"50%":{"background-color":"#268700"},to:{"background-color":"#37c500"}}},b=function(t){t||(i.removeChild(l),r.events.remove.evt("resize")),o.text=new n(a.text_duration,{opacity:1,transform:"translateX(0)",position:""},{opacity:0,transform:"translateY(-100%)",top:"30%",position:"absolute"}),o.title=new n(a.text_duration,{opacity:1,transform:"translateX(0)",position:""},{opacity:0,transform:"translateY(-100%)",top:"0",position:"absolute"}),o.images=new n(a.image_duration,{opacity:1,transform:"scale(1)"},{opacity:0,transform:"scale(1.2)"}),function(){var t;(t=document.createElement("div")).classList.add("—prx—main-box"),p={css_rules:{n:"style",p:i,a:{"data-style-type":"css-rules"},css:function(){r.css.rule(this.src,d)}},css_animations:{n:"style",p:i,a:{"data-style-type":"css-animation"},css:function(){r.css.animation(this.src,x)}}},c={size:{p:l=t,a:{class:"—prx—size"}},"img-box":{p:l,a:{class:"—prx—sub-box"},s:{"z-index":1},"style-init":function(t){return{"background-color":"#"+(t.background?t.background:t)}}},img:{p:"img-box",a:{class:"—prx—img-box"},s:{opacity:0},g:{opacity:1},r:function(t){var e=t.device.orientation.landscape,i=t.device.type.mobile,n=e?u.height:u.width/2>u.height?u.height:u.width/2;return{width:n+"px",height:n+"px","border-width":e?"0":i?10*t.scale+"px":20*t.scale+"px"}}},"content-box":{p:l,a:{class:"—prx—sub-box"},s:{"z-index":3}},"text-box":{p:"content-box",a:{class:"—prx—text-box —prx—text-box-1 —prx—text-box-2"},s:{opacity:0,transform:"translateX(-15%)"},g:{opacity:1,transform:"translateX(0)"},r:function(t){var e=t.device.orientation,i=t.device.type.mobile,n=e.portrait?i?10:15:20,o=e.portrait?u.height:u.width/2>u.height?u.height:u.width/2;return o=o>screen.width/2?screen.width/2:o,{width:u.width-o+"px",border:n+"px solid rgba(0, 0, 0, 0)","-webkit-justify-content":e.portrait&&a.button.display?"space-between":"center","justify-content":e.portrait&&a.button.display?"space-between":"center"}}}},r.data.loop(["texts","images"]).run(function(n){r.data.loop(a[n]).run(function(t,e){var i=n+"#"+e;s[n](i,t,e)})}),a.button.display&&(c.button={p:"text-box",a:{class:"—prx—button"},r:function(t){t.device.type.mobile;var e=t.device.orientation;return{display:e.portrait?"table-footer-group":"block",position:e.portrait?"static":"absolute","border-left-width":e.landscape?"20px":"",width:e.landscape?"35%":"",transform:e.landscape?"translateY(50%)":""}}},c["button-in"]={n:"span",p:"button","content-init":function(t){return(t.button?t.button:t).content},"style-init":function(t){var e=t.button?t.button:t;return{"animation-name":"—prx—"+e.animation,color:"#"+e.color,"font-size":e.size+"em","font-weight":e.weight}},r:function(t){var e=t.device.type.mobile,i=t.device.orientation;return{padding:t.device.type.mobile&&i.portrait?6*t.scale+"px "+12*t.scale+"px":!t.device.type.mobile&&i.portrait?12*t.scale+"px "+14*t.scale+"px":t.device.type.mobile?8*t.scale+"px 0px":12*t.scale+"px 0px","border-radius":e?7*t.scale+"px":15*t.scale+"px",width:i.landscape?"":e?"66%":"50%"}}})}(),t&&r.data.loop(p).run(function(i){i.src="n"in i?document.createElement(i.n):document.createElement("div"),"a"in i&&r.data.loop(i.a).run(function(t,e){i.src.setAttribute(e,t)}),"p"in i&&("string"==typeof i.p?c[i.p].src.appendChild(i.src):i.p.appendChild(i.src)),"css"in i&&i.css()}),function(n){r.data.loop(c).run(function(i,t){var e;i.src="n"in i?document.createElement(i.n):document.createElement("div"),"a"in i&&r.data.loop(i.a).run(function(t,e){i.src.setAttribute(e,t)}),n&&"s"in i&&r.css.style(i.src,i.s),!n&&"g"in i&&r.css.style(i.src,i.g),"i"in i&&(i.src.innerHTML=i.i()),"init"in i&&o[i.init].n.push(i.src),("style-init"in i||"content-init"in i)&&("order"in i?(e=t.split("#"),s.data(t,a[e[0]][i.order])):s.data(t,a)),"p"in i&&("string"==typeof i.p?c[i.p].src.appendChild(i.src):i.p.appendChild(i.src)),"css"in i&&i.css()}),r.data.loop({resize:{"font-size":function(){var t=s.page(),e=t.device.type.mobile?t.device.orientation.portrait?.116:.2:t.device.orientation.portrait?.12:.14;r.css.style(l,{"font-size":Math.floor(t.size.in_height*e)+"px"})},"node-resize":function(){r.data.loop(c).run(function(t){"r"in t&&r.css.style(t.src,t.r(s.page()))})}}}).run(function(t,i){r.data.loop(t).run(function(t,e){r.events.add.func(i,e,t)})}),r.events.set(e.maker)}(t),function(t){e.maker.promo=l,"options"in e&&"controls"in e.options&&r.maker.controls(e.options.controls,function(){r.data.loop(["images","text","title"]).run(function(t){o[t].toggle()})}),i.appendChild(l),r.events.run("resize"),r.data.loop(o).run(function(t){t.r()}),t&&r.data.loop(c).run(function(t){"g"in t&&r.css.style(t.src,t.g)})}(t)};b(!0)};
