window.promo_set_up=function(r,a){function t(t,i,o){this.n=[],this.d=1e3*t,this.s=1,this.f=function(t,n){r.data.loop(t).run(function(t,e){e===n?r.css.style(t,i):r.css.style(t,o)})},this.r=function(){var t=this;0<t.n.length&&(t.f(t.n,0),1<t.n.length&&(t.i=setInterval(function(){t.f(t.n,t.s),t.s=t.s===t.n.length-1?0:t.s+1},t.d)))}}var e={};e.text=new t(a.text_duration,{opacity:1,transform:"translateX(0)",position:""},{opacity:0,transform:"translateY(-100%)",top:"30%",position:"absolute"}),e.title=new t(a.text_duration,{opacity:1,transform:"translateX(0)",position:""},{opacity:0,transform:"translateY(-100%)",top:"0",position:"absolute"}),e.images=new t(a.image_duration,{opacity:1,transform:"scale(1)"},{opacity:0,transform:"scale(1.2)"});var o={page:function(){var e={};return r.data.loop(["device","scale","size"]).run(function(t){e[t]=r.page[t]()}),e},images:function(t,e){c[t]={p:"img",a:{class:"image-item"},"style-init":function(){return{"background-image":"url("+e+")","background-size":"cover","background-position":"center","background-repeat":"no-repeat"}},init:"images"}},title_content:function(t,e){c[t+"title"]={n:"span",p:t,"content-init":function(){return e.title},"style-init":function(){return{color:"#"+e.title_color,"font-size":e.title_size+"em","font-weight":e.title_weight}}}},text_content:function(t,e){c[t+"content"]={n:"span",p:t,"content-init":function(){return e.content},"style-init":function(){return{color:"#"+e.content_color,"font-size":e.content_size+"em","font-weight":e.content_weight}},r:function(t){var e=t.device.orientation;return{display:e.portrait?"inline-flex":"block",margin:e.portrait?"0 auto":""}}}},text_in:function(t,e){var n=t+"_in";c[n]={p:"text-box",a:{class:"text"},init:"text",r:function(t){var e=t.device.orientation;t.device.type.mobile;return{width:e.portrait?"":a.button.display?"65%":"100%",display:e.portrait?"table-row":"block"}}},o.text_content(n,e)},title_in:function(t,e){var n=t+"_title_in";c[n]={p:"text-box",a:{class:"title"},init:"title",r:function(t){var e=t.device.orientation,n=t.device.type.mobile;return{display:e.portrait?"table-header-group":"block",width:e.portrait?"":a.button.display?"65%":"100%","padding-top":e.portrait?n?"10px":"20px":""}}},o.title_content(n,e)},texts:function(t,e){o.title_in(t,e),o.text_in(t,e)}},s={get width(){return document.querySelector(".size").clientWidth},get height(){return document.querySelector(".size").clientHeight}},n={".size":{opacity:"0",position:"absolute",left:"0",right:"0",top:"0",bottom:"0","z-index":"-1"},".img-box":{position:"absolute",top:0,left:0,"box-sizing":"border-box",transition:"opacity .5s .4s","border-style":"solid","border-color":"rgba(255, 255, 255, 0)","max-height":"100%"},body:{margin:0,padding:0,"font-family":"sans-serif","text-size-adjust":"100%"},".img-box, .text-box":{position:"absolute"},".image-item,.main-box,.sub-box":{position:"absolute",width:"100%",height:"100%",top:0,left:0},".image-item":{transition:"opacity .4s,transform .4s","box-shadow":"10px 0px 25px 0px rgba(0, 0, 0, 0.4)"},".main-box":{"text-decoration":"none",cursor:"pointer","user-select":"none","-webkit-touch-callout":"none",overflow:"hidden"},".button":{display:"table-footer-group","vertical-align":"bottom",right:"0",bottom:"50%","box-sizing":"border-box","border-style":"solid","border-color":"rgba(0, 0, 0, 0)","border-width":"0"},".button span":{"white-space":"nowrap","text-overflow":"ellipsis",display:"block",margin:"0 auto","animation-duration":"1s","animation-iteration-count":"infinite","font-family":"sans-serif"},".title, .text":{width:"100%",display:"table",transition:"opacity .4s,transform .4s"},".title":{display:"table-header-group","text-align":"center","vertical-align":"top"},".text":{display:"table-row","vertical-align":"middle"},".text-box":{"z-index":1,transition:"opacity .5s .4s, transform .5s .4s","text-align":"center","max-height":"100%",display:"-webkit-flex","-webkit-flex-direction":"column","-ms-flex-direction":"column","flex-direction":"column","-webkit-justify-content":"space-between","justify-content":"space-between",height:"100%","box-sizing":"border-box","border-left":"none",right:"0"},".text-box-1":{display:"-ms-flex"},".text-box-2":{display:"flex"},".text span":{"vertical-align":"middle",display:"table-cell","text-align":"center"}},i={"color-red":{from:{"background-color":"#ff0000"},"50%":{"background-color":"#a70505"},to:{"background-color":"#ff0000"}},"color-green":{from:{"background-color":"#37c500"},"50%":{"background-color":"#268700"},to:{"background-color":"#37c500"}}},c={css_rules:{n:"style",p:document.head,a:{"data-style-type":"css-rules"},css:function(){r.css.rule(this.src,n)}},css_animations:{n:"style",p:document.head,a:{"data-style-type":"css-animation"},css:function(){r.css.animation(this.src,i)}},size:{p:r.box,a:{class:"size"}},"img-box":{p:r.box,a:{class:"sub-box"},s:{"z-index":1},"style-init":function(){return{"background-color":"#"+a.background}}},img:{p:"img-box",a:{class:"img-box"},s:{opacity:0},g:{opacity:1},r:function(t){var e=t.device.orientation.landscape,n=t.device.type.mobile,i=e?s.height:s.width/2>s.height?s.height:s.width/2;return{width:i+"px",height:i+"px","border-width":e?"0":n?10*t.scale+"px":20*t.scale+"px"}}},"content-box":{p:r.box,a:{class:"sub-box"},s:{"z-index":3}},"text-box":{p:"content-box",a:{class:"text-box text-box-1 text-box-2"},s:{opacity:0,transform:"translateX(-15%)"},g:{opacity:1,transform:"translateX(0)"},r:function(t){var e=t.device.orientation,n=t.device.type.mobile,i=e.portrait?n?10:15:20,o=e.portrait?s.height:s.width/2>s.height?s.height:s.width/2;return o=o>screen.width/2?screen.width/2:o,{width:s.width-o+"px",border:i+"px solid rgba(0, 0, 0, 0)","-webkit-justify-content":e.portrait&&a.button.display?"space-between":"center","justify-content":e.portrait&&a.button.display?"space-between":"center"}}}};r.data.loop(["images","texts"]).run(function(i){r.data.loop(a[i]).run(function(t,e){var n=i+"_init_"+e;o[i](n,t)})}),a.button.display&&(c.button={p:"text-box",a:{class:"button"},r:function(t){t.device.type.mobile;var e=t.device.orientation;return{display:e.portrait?"table-footer-group":"block",position:e.portrait?"static":"absolute","border-left-width":e.landscape?"20px":"",width:e.landscape?"35%":"",transform:e.landscape?"translateY(50%)":""}}},c["button-in"]={n:"span",p:"button","content-init":function(){return a.button.content},"style-init":function(){return{"animation-name":a.button.animation,color:"#"+a.button.color,"font-size":a.button.size+"em","font-weight":a.button.weight}},r:function(t){var e=t.device.type.mobile,n=t.device.orientation;return{padding:t.device.type.mobile&&n.portrait?6*t.scale+"px "+12*t.scale+"px":!t.device.type.mobile&&n.portrait?12*t.scale+"px "+14*t.scale+"px":t.device.type.mobile?8*t.scale+"px 0px":12*t.scale+"px 0px","border-radius":e?7*t.scale+"px":15*t.scale+"px",width:n.landscape?"":e?"66%":"50%"}}}),r.data.loop(c).run(function(n){n.src="n"in n?document.createElement(n.n):document.createElement("div"),"a"in n&&r.data.loop(n.a).run(function(t,e){n.src.setAttribute(e,t)}),"s"in n&&r.css.style(n.src,n.s),"i"in n&&(n.src.innerHTML=n.i()),"init"in n&&e[n.init].n.push(n.src),"style-init"in n&&r.css.style(n.src,n["style-init"]()),"content-init"in n&&(n.src.innerHTML=n["content-init"]()),"p"in n&&("string"==typeof n.p?c[n.p].src.appendChild(n.src):n.p.appendChild(n.src)),"css"in n&&n.css()}),r.data.loop({resize:{"font-size":function(){var t=o.page(),e=t.device.type.mobile?t.device.orientation.portrait?.116:.2:t.device.orientation.portrait?.12:.14;r.css.style(document.body,{"font-size":Math.floor(t.size.in_height*e)+"px"})},"node-resize":function(){r.data.loop(c).run(function(t){"r"in t&&r.css.style(t.src,t.r(o.page()))})}}}).run(function(t,n){r.data.loop(t).run(function(t,e){r.events.add.func(n,e,t)})}),r.events.set();document.body.appendChild(r.box),r.events.run("resize"),r.data.loop(e).run(function(t){t.r()}),r.cmnd.pull.show=function(){var e=setInterval(function(){var t=r.page.size();0<t.in_width&&0<t.in_height&&(clearInterval(e),r.events.run("resize"),window.setTimeout(function(){r.data.loop(c).run(function(t){"g"in t&&r.css.style(t.src,t.g)}),r.config&&r.tracker.show()},50))},50)},r.cmnd.gain(),r.cmnd.send.bounce(),r.cmnd.send.ready()};
