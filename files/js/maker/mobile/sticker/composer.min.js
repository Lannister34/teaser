!function(){var t,a,o,s,u={loop:t=function(e){return{run:Array.isArray(e)?function(n){for(var t=0;t<e.length;t++)n(e[t],t,e)}:function(n){var t;for(t in e)e.hasOwnProperty(t)&&n(e[t],t,e)}}},assign:function(n,e){return t(n).run(function(n,t){e[t]=n}),e},pull:function(n,t){var e=new RegExp("[\\?&]"+n.replace(/[\[]/,"\\[").replace(/[\]]/,"\\]")+"=([^&#]*)").exec(location.search);return e?decodeURIComponent(e[1].replace(/\+/g," ")).replace(/-/g,"/"):t}},n={prx:a={properties:new RegExp("text-size-adjust|user-select|transform|transition|box-shadow|animation|filter","i"),prefix:["","webkit","moz","ms","o","ie","wap","khtml"],set:function(n){var t=this.properties.source.split("|");t.push(n),t=t.toString().replace(/,/g,"|"),this.properties=new RegExp(t,this.properties.flags)}},fix:o=function(i,o,r){u.loop(a.prefix).run(function(n,t){var e=t?"-"+n+"-":"";i.style[e+o]=r[o]})},style:function(e,i){u.loop(i).run(function(n,t){t.match(a.properties)?o(e,t,i):e.style[t]=n})},rule:function(a,n){var c="sheet"in a?"insertRule"in a.sheet?["sheet","insertRule"]:"addRule"in a.sheet?["sheet","addRule"]:null:null;c&&!a.sheet.init_count&&(a.sheet.init_count=0),u.loop(n).run(function(n,t){var e,i,o,r;e=a,i=t,o=s(n),r=(r=a.sheet.init_count)||null,c?"addRule"===c[1]?e[c[0]][c[1]](i,o,r):e[c[0]][c[1]](i+"{"+o+"}",r):e.innerHTML+=i+"{"+o+"}",c&&e.sheet.init_count++})},animation:function(e,n){u.loop(n).run(function(i,o){var r,n="/* "+o+" */\n\n",t=(r="",u.loop(a.prefix).run(function(n,t){var e;r+="@"+(t?"-"+n+"-":"")+"keyframes "+o+" {\n"+(e="",u.loop(i).run(function(n,t){e+=t+"{"+s(n)+"}\n"}),e)+"}\n\n"}),r);e.innerHTML+=n+t})},media:function(o,n){u.loop(n).run(function(n,t){var e,i="@media "+t+" {\n"+(e="",u.loop(n).run(function(n,t){e+=t+"{"+s(n)+"}"}),e)+"\n}\n\n";o.innerHTML+=i})},properties:s=function(n){var o="";return u.loop(n).run(function(e,i){i.match(a.properties)?u.loop(a.prefix).run(function(n,t){o+=(t?"-"+n+"-":"")+i+":"+e+";"}):o+=i+":"+e+";"}),o}},e=window.GLOBAL_CONFIG,i={fetch:function(n){n&&window.top.postMessage({hash:e.phash,cmnd:n},"*")},gain:function(){window.addEventListener("message",function(n){"object"==typeof n.data&&n.data.hash===e.phash&&n.data.cmnd.name in i.pull&&i.pull[n.data.cmnd.name](n.data.cmnd.data||null)})}};i.send={ready:i.fetch.bind(null,{name:"ready"}),hide:i.fetch.bind(null,{name:"hide"}),close:i.fetch.bind(null,{name:"close"}),target:i.fetch.bind(null,{name:"target"}),empty:i.fetch.bind(null,{name:"empty"}),bounce:i.fetch.bind(null,{name:"bounce",data:e.close_url||null})},i.pull={};var r,c,l,h,d,p,f,m,g,w,v=new function(){this.clickmap=e.click_map?e.click_map+(/\?/.test(e.click_map)?"&":"?"):null,this.targeted=0,this.internals=function(n){var t=_.size(),e=_.device().orientation.portrait;return this.clickmap+"c="+n.pageX+";"+n.pageY+"&co="+n.offsetX+";"+n.offsetY+"&fs="+t.in_width+";"+t.in_height+"&tc="+this.targeted+"&so="+(e?1:0)+"&it="+("isTrusted"in n?n.isTrusted?1:0:"-1")+"&"+Math.random()},this.request={list:[],make:function(n){var t=this.list.length;this.list.push(new Image),this.list[t]._complete_=!1,this.list[t].onload=this.list[t].onerror=function(){this._complete_=!0},this.list[t].src=n},complete:function(){for(var n=!0,t=this.list.length,e=0;e<t;e++)if(!this.list[e]._complete_){n=!1;break}return n}},this.show=function(){e.pixel&&this.request.make(e.pixel)},this.event=function(n){this.clickmap&&this.request.make(this.internals(n)),this.targeted&&(this.timer=setInterval(function(){this.request.complete()&&(clearInterval(this.timer),i.send.target())}.bind(this),50))},this.target=function(){this.targeted=1,e&&i.send.hide()}},_=(l=u.pull("promosize",.25),r=window.navigator.userAgent.toLowerCase(),h={android:(c=function(n){return r.match(n)})(/android/i),ios:c(/iphone|ipad|ipod/i),uc:c(/ucbrowser/i)},p=function(){var n=d(),t=n.in_width<n.in_height/l&&n.av_width<n.av_height||n.in_width>n.in_height/l&&n.av_width>n.av_height?n.in_width/n.av_width:n.in_width/n.av_height;return 1<t?t:1},{agent:h,size:d=function(){return{in_width:Math.min(document.documentElement.clientWidth,window.innerWidth||0),in_height:Math.min(document.documentElement.clientHeight,window.innerHeight||0),av_width:screen.availWidth,av_height:screen.availHeight}},scale:p,device:function(){var n=d(),t=p(),e=n.in_width,i=n.in_height/l,o=e<i&&e<450*t&&i<850*t||i<e&&e<850*t&&i<450*t;return{orientation:{landscape:i<e,portrait:e<i},type:{mobile:o,tablet:!o}}},type:l}),b=(g=function(n){n in f||(f[n]={})},{list:f={},set:function(){u.loop(f).run(function(n,t){"on"+t in window?window["on"+t]=function(n){m(t,n)}:console.warn("there is no "+t+" event in window")})},run:m=function(n,t){t=t||null;n in f?u.loop(f[n]).run(function(n){n(t)}):console.warn("there is no "+n+" event in window")},add:{evt:g,func:function(n,t,e){n in f?t in f[n]?console.warn(n+" event already has "+t+" function"):f[n][t]=e:(g(n),f[n][t]=e)}},remove:{evt:function(n){n in f&&delete f[n]},func:function(n,t){n in f&&func in f[n]&&delete f[n][t]}}}),k=((w=document.createElement("a")).classList.add("main-box"),w.setAttribute("href",e.click_url),w.setAttribute("target","_blank"),_.agent.ios?(w.style.cursor="pointer",w.setAttribute("onclick","void(0)"),w.addEventListener("click",function(n){v.target()})):w.onclick=v.target.bind(v),document.body.onclick=v.event.bind(v),w),y={data:u,css:n,cmnd:i,tracker:v,config:e,page:_,events:b,box:k},x=document.createElement("script");x.src="/files/js/constructor/mobile/sticker/"+data_config.options.template+"/set-up.js?"+Math.random(),x.onload=function(){promo_set_up(y,data_config.data)},document.head.appendChild(x)}();